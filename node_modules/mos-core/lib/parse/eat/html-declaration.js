'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = eatHTMLDeclaration;

var _isWhiteSpace = require('../is-white-space');

var _isWhiteSpace2 = _interopRequireDefault(_isWhiteSpace);

var _isAlphabetic = require('../is-alphabetic');

var _isAlphabetic2 = _interopRequireDefault(_isAlphabetic);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Try to match a declaration.
 *
 * @param {string} value - Value to parse.
 * @return {string?} - When applicable, the declaration at
 *   the start of `value`.
 */
function eatHTMLDeclaration(value) {
  var index = 0;
  var length = value.length;
  var queue = '';
  var subqueue = '';
  var character = void 0;

  if (value.charAt(index) === '<' && value.charAt(++index) === '!') {
    queue = '<' + '!';
    index++;

    /*
     * Eat as many alphabetic characters as
     * possible.
     */

    while (index < length) {
      character = value.charAt(index);

      if (!(0, _isAlphabetic2.default)(character)) {
        break;
      }

      subqueue += character;
      index++;
    }

    character = value.charAt(index);

    if (!subqueue || !(0, _isWhiteSpace2.default)(character)) {
      return;
    }

    queue += subqueue + character;
    index++;

    while (index < length) {
      character = value.charAt(index);

      if (character === '>') {
        return queue;
      }

      queue += character;
      index++;
    }
  }
}
module.exports = exports['default'];