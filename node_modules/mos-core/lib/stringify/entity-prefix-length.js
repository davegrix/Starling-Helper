'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _parseEntities = require('parse-entities');

var _parseEntities2 = _interopRequireDefault(_parseEntities);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = entityPrefixLength;


/**
 * Returns the length of HTML entity that is a prefix of
 * the given string (excluding the '&'), 0 if it
 * does not start with an entity.
 *
 * @example
 *   entityPrefixLength('&copycat') // 4
 *   entityPrefixLength('&foo &amp &bar') // 0
 *
 * @param {string} value - Input string.
 * @return {number} - Length of an entity.
 */
function entityPrefixLength(value) {
  var prefix = void 0;

  /* istanbul ignore if - Currently also tested for at
   * implemention, but we keep it here because thatâ€™s
   * proper. */
  if (value.charAt(0) !== '&') {
    return 0;
  }

  prefix = value.split('&', 2).join('&');

  return prefix.length - (0, _parseEntities2.default)(prefix).length;
}
module.exports = exports['default'];