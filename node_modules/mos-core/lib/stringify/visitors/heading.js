'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _repeatString = require('repeat-string');

var _repeatString2 = _interopRequireDefault(_repeatString);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (compiler, node) {
  var setext = compiler.options.setext;
  var closeAtx = compiler.options.closeAtx;
  var content = compiler.all(node).join('');

  if (setext && node.depth < 3) {
    return content + '\n' + (0, _repeatString2.default)(node.depth === 1 ? '=' : '-', content.length);
  }

  var prefix = (0, _repeatString2.default)('#', node.depth);
  content = prefix + ' ' + content;

  if (closeAtx) {
    content += ' ' + prefix;
  }

  return content;
};

module.exports = exports['default'];