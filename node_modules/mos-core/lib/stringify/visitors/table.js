'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _markdownTable = require('markdown-table');

var _markdownTable2 = _interopRequireDefault(_markdownTable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (compiler, node) {
  var index = node.children.length;
  var exit = compiler.enterTable();
  var result = [];

  while (index--) {
    result[index] = compiler.all(node.children[index]);
  }

  exit();

  var start = compiler.options.looseTable ? '' : compiler.options.spacedTable ? '| ' : '|';

  return (0, _markdownTable2.default)(result, {
    align: node.align,
    start: start,
    end: start.split('').reverse().join(''),
    delimiter: compiler.options.spacedTable ? ' | ' : '|'
  });
};

module.exports = exports['default'];